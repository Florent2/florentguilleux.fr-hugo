<!DOCTYPE html>
<html lang="en-us">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <meta property="og:title" content=" Easier Usage of attr_accessible &middot;  Florent Guilleux" />
  
  <meta property="og:site_name" content="Florent Guilleux" />
  <meta property="og:url" content="http://www.florentguilleux.fr/posts/easier-usage-of-attr_accessible/" />
  
  
  <meta property="og:type" content="article" />
  
  <meta property="og:article:published_time" content="2012-02-21T01:00:00&#43;01:00" />
  
  

  <title>
     Easier Usage of attr_accessible &middot;  Florent Guilleux
  </title>

  <link rel="stylesheet" href="http://www.florentguilleux.frcss/bootstrap.min.css" />
  <link rel="stylesheet" href="http://www.florentguilleux.frcss/main.css" />
  <link rel="stylesheet" href="http://www.florentguilleux.frcss/font-awesome.min.css" />
  <link rel="stylesheet" href="http://www.florentguilleux.frcss/github.css" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400" type="text/css">
  <link rel="shortcut icon" href="http://www.florentguilleux.frimages/favicon.ico" />
  <link rel="apple-touch-icon" href="http://www.florentguilleux.frimages/apple-touch-icon.png" />
  
</head>
<body>
    <header class="global-header"  style="background-image:url( /images/bg.jpg )">
    <section class="header-text">
      <h1><a href="http://www.florentguilleux.fr">Florent Guilleux</a></h1>
      
      <div class="sns-links hidden-print">
  
  
  
  
  
  
  
  
  
</div>

      
      <a href="http://www.florentguilleux.fr" class="btn-header btn-back hidden-xs">
        <i class="fa fa-angle-left" aria-hidden="true"></i>
        &nbsp;Home
      </a>
      
      
    </section>
  </header>
  <main class="container">


<article>
  <header>
    <h1 class="text-primary">Easier Usage of attr_accessible</h1>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2012-02-21T01:00:00&#43;01:00">
          Feb 21, 2012
        </time>
      </div>
      <div class="pull-right">
        
      </div>
    </div>
  </header>
  <section>
    <p><a href="http://guides.rubyonrails.org/security.html#mass-assignment"><code>attr_accessible</code> is the recommended method</a> to protect your attributes from mass assignments in Rails. It lists for a model the attributes that can be mass assigned, other attributes will be protected. But it is tedious to build and update this list of accessible attributes while developing an application.</p>

<p>Fortunately there are two mechanisms which facilitate the usage of <code>attr_accessible</code>.</p>

<p>First you can configure your application to create an empty whitelist of attributes available for mass-assignment for all the models. This forces you to explicitly list the accessible attributes of each model, without the risk of forgetting a model or an attribute. To do this just add <code>config.active_record.whitelist_attributes = true</code> in the configuration <code>application.rb</code>.</p>

<p>When a protected attribute is mass assigned, the attribute value is not modified and by default Rails logs a warning. This makes sometimes hard to realize that some attribute isnâ€™t set or modified through a create or update action because it is protected. Since the version 3.2 it is possible to have an exception raised when a protected attribute is mass assigned. Thus it is much easier to detect attributes that should be made accessible. For that just add <code>config.active_record.mass_assignment_sanitizer = :strict</code> to your application configuration, or only in <code>development.rb</code> and <code>test.rb</code> if your prefer.</p>

<p>By combining those two mechanisms it is easy to discover progressively the attributes you want to make accessible while developing your application.</p>

  </section>
  <footer>
    
    <section class="author-info row">
      <div class="author-avatar col-md-2">
        
      </div>
      <div class="author-meta col-md-6">
        
        
      </div>
      
    </section>
    <ul class="pager">
      
      <li class="previous"><a href="http://www.florentguilleux.fr/posts/control-over-standards/"><span aria-hidden="true">&larr;</span> Older</a></li>
      
      
      <li class="next"><a href="http://www.florentguilleux.fr/posts/handling-requests-in-parallel-in-rails-applications/">Newer <span aria-hidden="true">&rarr;</span></a></li>
      
    </ul>
  </footer>
</article>

  </main>
  <footer class="container global-footer">
    <div class="copyright-note pull-left">
      
    </div>
    <div class="sns-links hidden-print">
  
  
  
  
  
  
  
  
  
</div>

  </footer>

  <script src="http://www.florentguilleux.frjs/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
  
</body>
</html>

